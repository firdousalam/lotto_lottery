<div class="row">
	<div class="col-lg-12" style="margin-top:16px; min-height:750px;" ng-controller="driver" ng-cloak>
		<div class="panel panel-green margin-bottom-10">
			<div class="panel-heading">
				<h3 class="panel-title"><i class="fa fa-tasks"></i>Drivers
					<button type="button" ng-click="openAddDriver()" class="btn btn-default btn-xs pull-right"><i class="fa fa-plus-square"></i> Add New Driver</button>&nbsp;&nbsp;
					<i class="fa fa-file-pdf-o fa-2x pull-right" ng-click="openGenerateDriverPDFData()" style="cursor:pointer;" tooltips tooltip-side="right" tooltip-template="Export driver data to PDF format."></i>&nbsp;&nbsp;
					<i class="fa fa-file-excel-o fa-2x pull-right" ng-click="generateDriverCSVData()" style="cursor:pointer;" tooltips tooltip-side="right" tooltip-template="Export driver data to CSV format."></i>&nbsp;&nbsp;
				</h3>
			</div>
			<!-- Search Box. -->
			<div class="panel-body text-center">
				<div class="col-sm-4 col-sm-offset-4">
					<div id="imaginary_container">
						<div class="input-group stylish-input-group">
							<input type="text" class="form-control"  ng-model="search" placeholder="Search" >
							<span class="input-group-addon">
								<button type="submit"> <span class="glyphicon glyphicon-search"></span> </button>
							</span> 
						</div>
					</div>
				</div>
			</div>
			<div class="table-responsive">
				<table class="table table-striped table-bordered table-hover">    
					<thead>
						<tr>
							<th></th>
							<th ng-click="sortDriverTableBy('driver_id')">Driver ID&nbsp;<span class="glyphicon sort-icon" ng-show="sortKey=='driver_id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span><span class="glyphicon sort-icon" ng-hide="sortKey=='driver_id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
							<th></th>
							<th ng-click="sortDriverTableBy('first_name')">Driver Name&nbsp;<span class="glyphicon sort-icon" ng-show="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span><span class="glyphicon sort-icon" ng-hide="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
							<th ng-click="sortDriverTableBy('driver_type')">Driver Type&nbsp;<span class="glyphicon sort-icon" ng-show="sortKey=='driver_type'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span><span class="glyphicon sort-icon" ng-hide="sortKey=='driver_type'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
							<th ng-click="sortDriverTableBy('status')">Status&nbsp;<span class="glyphicon sort-icon" ng-show="sortKey=='status'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span><span class="glyphicon sort-icon" ng-hide="sortKey=='status'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
							<th ng-click="sortDriverTableBy('email')">Email&nbsp;<span class="glyphicon sort-icon" ng-show="sortKey=='email'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span><span class="glyphicon sort-icon" ng-hide="sortKey=='email'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
							<th>Bank Details</th>
							<th>License Details</th>
							<!--<th>Account Balance</th>-->
							<th>Notes</th>
							<th ng-click="sortDriverTableBy('created_on')">Add Date&nbsp;<span class="glyphicon sort-icon" ng-show="sortKey=='created_on'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span><span class="glyphicon sort-icon" ng-hide="sortKey=='created_on'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></br>(dd-mm-yyyy)</th>
							<th class="width-200">Action</th>
						</tr>
					</thead>
					<tbody ng-hide="driverRes">
						<tr>
							<td colspan="12"><div ng-show="driverLoader" style="position: fixed;left: 0px;top: 0px;width: 100%;height: 100%;z-index: 9999;background: url(http://www.limokit.com/bms_clients/repo/images/load.gif) center no-repeat;"></div></td>
						</tr>
					</tbody>
					<tbody ng-show="driverRes">
						<tr dir-paginate="driver in driver_listing_data|orderBy:sortKey:reverse|filter:search|itemsPerPage:selected_search_type_per_page">
							<tr><td colspan="12" ng-show="!driver_listing_data.length" style="align:center"><b>No Data Available.</b></td></tr>
							<tr ng-repeat-start="driver in driver_listing_data|orderBy:sort_table:reverse|filter:search|itemsPerPage:selected_search_type_per_page">
								<td>
									<button class="btn btn-warning btn-xs" ng-click="showContactPhone = ! showContactPhone; showIncomeSplit = false; showExpenseSplit = false; showCar = false; showAddress = false; showBalance = false"><i class="fa fa-phone"></i></button>&nbsp;
									<button class="btn btn-warning btn-xs" ng-click="showCar = ! showCar; showIncomeSplit = false; showExpenseSplit = false; showContactPhone = false; showAddress = false; showBalance = false"><i class="fa fa-car"></i></button>&nbsp;
									<button class="btn btn-warning btn-xs" ng-click="showCar = false; showIncomeSplit = false; showExpenseSplit = false; showContactPhone = false; showAddress = !showAddress; showBalance = false"><i class="fa fa-location-arrow"></i></button>&nbsp;
									<button class="btn btn-warning btn-xs" ng-click="showBalance = ! showBalance; showIncomeSplit = false; showExpenseSplit = false; showContactPhone = false; showCar = false; showAddress = false; showListAccountDetails(driver.driver_id, showBalance, $index);"><i class="fa fa-money"></i></button>
									<button ng-show="driver.driver_type=='in_house_contract'" class="btn btn-warning btn-xs" ng-click="showIncomeSplit = ! showIncomeSplit; showExpenseSplit = false; showBalance = false; showContactPhone = false; showCar = false; showAddress = false; showListAccountDetails(driver.driver_id, showBalance, $index);">I</i></button>
									<button ng-show="driver.driver_type=='in_house_contract'" class="btn btn-warning btn-xs" ng-click="showExpenseSplit = ! showExpenseSplit; showIncomeSplit = false; showBalance = false; showContactPhone = false; showCar = false; showAddress = false; showListAccountDetails(driver.driver_id, showBalance, $index);">E</i></button>
									
								</td>
								<td>{{::driver.driver_id}}</td>
								<td><img ng-src="{{driver.image[0].image_path}}" class="img-thumbnail" style="height:75 px ; width:75px" src="{{driver.image[0].image_path}}"></td>
								<td><strong>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}<strong></td>
								<td><span ng-if="driver.driver_type=='in_house_contract'">In-house Contract</span><span ng-if="driver.driver_type=='in_house_salary'">In-house Salary</span><span ng-if="driver.driver_type=='outsourced'">Outsourced</span></td>
								<td>{{::driver.status | uppercase}}</td>
								<td>{{::driver.email}}</td>
								<td><span ng-repeat="bnkdet in driver.bank_details">{{::bnkdet.field_name}} : {{::bnkdet.value}}</br></span></td>
								<td>License No. : {{::driver.licence_number}}<br>License Expiry : {{::driver.licence_expire | date : "dd-MM-yyyy"}}</td>
								<!--<td>-</td>-->
								<td>{{::driver.notes}}<span ng-if="!driver.notes">-</span></td>
								<td>{{::driver.created_on | date : "dd-MM-yyyy"}}</td>
								<td ng-init="customer_array_index =$index" class="width-200">
									<!-- button to edit -->
									<button type="button" class="btn btn-warning btn-xs" ng-click="openEditDriver(driver)"><i class="fa fa-pencil"></i> Edit</button>
								</td>
							</tr>
						</tr>
						<tr ng-repeat-end>
							<td colspan="12" class="mainBlocktable" ng-show="showBalance">
								<div class="panel panel-green margin-bottom-30 greenBlock" style="border-right:0;"><span class="listingArrow"><img src="http://www.limokit.com/bms_clients/repo/images/listing-arrow.png" alt=""/></span>
									<div class="panel-heading">
										<h3 class="panel-title"><i class="fa fa-dollar"></i>&nbsp;&nbsp;Account Details for <u><em>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}</em></u>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered">
											<thead>
												<tr>
													<th>Entry ID</th>
													<th>Transaction ID</th>
													<th>Date/Time</th>
													<th>Description</th>
													<th><p class="text-right">Debit</p></th>
													<th><p class="text-right">Credit</p></th>
												</tr>
											</thead>
											<tbody>
												<tr><td colspan="6" ng-show="!driver_account_details" style="align:center"><b>No Data Available.</b></td></tr>
												<tr ng-repeat="driver_account in driver_account_details | orderBy : '-entry_id'">
													<td>{{::driver_account.entry_id}}</td>
													<td>{{::driver_account.transaction_id}}</td>
													<td>{{::driver_account.created_on | date : 'dd-MM-yyyy hh:mh a'}}</td>
													<td>{{::driver_account.description}}</td>
													<td align="right">{{::currency}}&nbsp;{{::driver_account.amount_debit | currency : ''}}</td>
													<td align="right">{{::currency}}&nbsp;{{::driver_account.amount_credit | currency : ''}}</td>
												</tr>
												<tr ng-show="driver_account_details">
													<td></td>
													<td></td>
													<td></td>
													<td style="font-weight:bold;">Total</td>
													<td style="font-weight:bold;" align="right">{{::currency}}&nbsp;{{::total_debit | currency : ''}}</td>
													<td style="font-weight:bold;" align="right">{{::currency}}&nbsp;{{::total_credit | currency : ''}}</td>
												</tr>
												<tr ng-show="driver_account_details">
													<td></td>
													<td></td>
													<td></td>
													<td style="font-weight:bold;">Account Balance</td>
													<td style="font-weight:bold;" align="right" colspan="2">{{::currency}}&nbsp;{{::account_balance | currency : ''}}</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</td>
							<td colspan="12" class="mainBlocktable" ng-show="showContactPhone">
								<div class="panel panel-green margin-bottom-30 greenBlock" style="border-right:0;"><span class="listingArrow"><img src="http://www.limokit.com/bms_clients/repo/images/listing-arrow.png" alt=""/></span>
									<div class="panel-heading">
										<h3 class="panel-title"><i class="fa fa-phone"></i>&nbsp;&nbsp;Phone Details for <u><em>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}</em></u>
										<button class="btn btn-default btn-xs pull-right" ng-click="openAddDriverPhone(driver._id);"><i class="fa fa-plus-square"></i> Add New Phone</button>
										</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered">
											<thead>
												<tr>
													<th>Number Type</th>
													<th>Calling Code</th>
													<th>Number</th>
													<th class="width-200"><p class="text-right">Action</p></th>
												</tr>
											</thead>
											<tbody>
											<!-- showing all the contact details of user -->
												<tr><td colspan="4" ng-show="!driver.phone.length" style="align:center"><b>No Data Available.</b></td></tr>
												<tr ng-repeat="phone in driver.phone">
													
													<td>{{::phone.type | uppercase}}</td>
													<td>+{{::phone.calling_code}}</td>
													<td><strong>{{::phone.number}}</strong></td>
													<td> <!-- button to edit -->
														<p class="text-right">
															<button type="button" class="btn btn-warning btn-xs" ng-click="openEditDriverPhone(driver._id, phone);"><i class="fa fa-pencil"></i> Edit</button>
															&nbsp;
															<!-- button to delete -->
															<button class="btn btn-danger btn-xs" ng-click="deleteDriverPhone(driver._id, phone._id);" ng-confirm-click="Are you sure you want to delete?"><i class="fa fa-trash-o"></i> Delete</button>
														</p>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</td>
							<td colspan="12" class="mainBlocktable" ng-show="showCar">
								<div class="panel panel-green margin-bottom-30 greenBlock" style="border-right:0;"><span class="listingArrow"><img src="http://www.limokit.com/bms_clients/repo/images/listing-arrow.png" alt=""/></span>
									<div class="panel-heading">
										<h3 class="panel-title"><i class="fa fa-car"></i>&nbsp;&nbsp;Car Details for <u><em>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}</em></u>
										<!-- the below button will add new contact details of customer -->
										<button class="btn btn-default btn-xs pull-right" ng-click="openAddDriverCar(driver._id);"><i class="fa fa-plus-square"></i>Add New Car</button>
										</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered">
											<thead>
												<tr>
													<th>Car Class</th>
													<th>Plate No.</th>
													<th>Make</th>
													<th>Model</th>
													<th>Color</th>
													<th class="width-200"><p class="text-right">Action</p></th>
												</tr>
											</thead>
											<tbody>
											<!-- showing all the contact details of user -->
												<tr><td colspan="10" ng-show="!driver.cars.length" style="align:center"><b>No Data Available.</b></td></tr>
												<tr ng-repeat="cars in driver.cars">
													<td ng-repeat="car_class in car_class_listing_data" ng-if="car_class._id==cars.class_id">{{car_class.car_class}}</td>
													<td><strong>{{::cars.make_name}}</strong></td>
													<td><strong>{{::cars.plate_no}}</strong></td>
													<td>{{::cars.model_name}}</td>
													<td>{{::cars.color}}</td>
													<td> 
														<p class="text-right">
															<!-- button to edit -->
															<button type="button" class="btn btn-warning btn-xs" ng-click="openEditDriverCar(driver._id, cars);"><i class="fa fa-pencil"></i> Edit</button>
															&nbsp;
															<!-- button to delete -->
															<button class="btn btn-danger btn-xs" ng-click="deleteDriverCar(driver._id, cars._id);" ng-confirm-click="Are you sure you want to delete?"><i class="fa fa-trash-o"></i> Delete</button>
														</p>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</td>
							<td colspan="12" class="mainBlocktable" ng-show="showAddress">
								<div class="panel panel-green margin-bottom-30 greenBlock" style="border-right:0;"><span class="listingArrow"><img src="http://www.limokit.com/bms_clients/repo/images/listing-arrow.png" alt=""/></span>
									<div class="panel-heading">
										<h3 class="panel-title"><i class="fa fa-home"></i>&nbsp;&nbsp;Address Details for <u><em>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}</em></u>
										<!-- the below button will add new contact details of customer -->
										<button class="btn btn-default btn-xs pull-right" ng-click="openAddDriverAddress(driver._id);"><i class="fa fa-plus-square"></i> Add New Address</button>
										</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered">
											<thead>
												<tr>
													<th>Type</th>
													<th>Line 1</th>
													<th>Line 2</th>
													<th>City</th>
													<th>Suburb/ District</th>
													<th>State</th>
													<th>Post Code</th>
													<th>Country</th>
													<th class="width-200"><p class="text-right">Action</p></th>
												</tr>
											</thead>
											<tbody>
											<!-- showing all the contact details of user -->
												<tr><td colspan="9" ng-show="!driver.address.length" style="align:center"><b>No Data Available.</b></td></tr>
												<tr ng-repeat="addr in driver.address">
													
													<td>{{::addr.type | uppercase}}</td>
													<td>{{::addr.line_1}}</td>
													<td>{{::addr.line_2}}</td>
													<td>{{::addr.city}}</td>
													<td>{{::addr.suburb_district}}</td>
													<td>{{::addr.state}}</td>
													<td>{{::addr.post_code}}</td>
													<td>{{::addr.country}}</td>
													<td>
														<p class="text-right">
															<!-- button to edit -->
															<button type="button" class="btn btn-warning btn-xs" ng-click="openEditDriverAddress(driver._id, addr);"><i class="fa fa-pencil"></i> Edit</button>
															&nbsp;
															<!-- button to delete -->
															<button class="btn btn-danger btn-xs" ng-click="deleteDriverAddress(driver._id, addr._id);" ng-confirm-click="Are you sure you want to delete?"><i class="fa fa-trash-o"></i> Delete</button>
														</p>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</td>
							<td colspan="12" class="mainBlocktable" ng-show="showIncomeSplit">
								<div class="panel panel-green margin-bottom-30 greenBlock" style="border-right:0;"><span class="listingArrow"><img src="http://www.limokit.com/bms_clients/repo/images/listing-arrow.png" alt=""/></span>
									<div class="panel-heading">
										<h3 class="panel-title"><i class="fa fa-car"></i>&nbsp;&nbsp;Income Split <u><em>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}</em></u>
										</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered">
											<thead>
												<tr>
													<th>Split Type</th>
													<th>Operator</th>
													<th>Driver</th>
													<th class="width-200"><p class="text-right">Action</p></th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td>Income</td>
													<td>{{driver.income[0].operator_percentage}}</td>
													<td>{{driver.income[0].driver_percentage}}</td>
													<td>
														<!-- button to edit -->
														<button type="button" class="btn btn-warning btn-xs" ng-click="openEditDriverIncomeSplit(driver);"><i class="fa fa-pencil"></i> Edit</button>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</td>
							<td colspan="12" class="mainBlocktable" ng-show="showExpenseSplit">
								<div class="panel panel-green margin-bottom-30 greenBlock" style="border-right:0;"><span class="listingArrow"><img src="http://www.limokit.com/bms_clients/repo/images/listing-arrow.png" alt=""/></span>
									<div class="panel-heading">
										<h3 class="panel-title"><i class="fa fa-car"></i>&nbsp;&nbsp;Expense Split <u><em>{{::driver.title}}&nbsp;{{::driver.first_name}}&nbsp;{{::driver.last_name}}</em></u>
										</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered">
											<thead>
												<tr>
													<th>Split Type</th>
													<th>Operator</th>
													<th>Driver</th>
													<th class="width-200"><p class="text-right">Action</p></th>
												</tr>
											</thead>
											<tbody>
												<tr ng-repeat="exp_types in expense_types_list">
													<td>{{exp_types.expense}}</td>
													<td></td>
													<td></td>
													<td>
														<!-- button to edit -->
														<button type="button" class="btn btn-warning btn-xs" ng-click="openEditDriverExpenseSplit(driver);"><i class="fa fa-pencil"></i> Edit</button>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="pull-left">
				<div class="dataTables_length" id="dataTables-example_length">
					<div class="bms-form noBorder">
						<label>Show</label>
						<label class="select">
							<select ng-model="selected_search_type_per_page" ng-options="search.value as search.name for search in page_per_pagination" ng-init="selected_search_type_per_page=selected_page_pagination">
								<option value="">Select no of rows</option>
							</select>
							<i></i>
						</label>
					</div>
				</div>
			</div>
			<ul class="pagination pull-right">
				<dir-pagination-controls
										max-size="5"
										direction-links="true"
										boundary-links="true" >
				</dir-pagination-controls>
			</ul>
		</div>
			<!-- Below modal show the data generated for pdf. -->
			<modal title="Driver Data" visible="driver_pdf_data_modal">
				<h3><button type="button" onclick="javascript:generatePDFDriver()" class="btn btn-default btn-xs pull-right" id="create_pdf"><i class="fa fa-file-pdf-o"></i>Generate PDF</button></h3>
				<div id="">
					<table id="drivers1" class="table table-striped">
						<thead>
							<tr>
								<th>Driver Name</th><th>Phone Number</th><th>Email</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="drivers_data in driver_listing_data | orderBy:sort_table:reverse | filter:search">
								<td>{{drivers_data.title}}&nbsp;{{drivers_data.first_name}}&nbsp;{{drivers_data.last_name}}</td>
								<td><span ng-if="drivers_data.phone.length">(+{{drivers_data.phone[0].calling_code}})&nbsp;{{drivers_data.phone[0].number}}</span></td>
								<td>{{drivers_data.email}}</td>
							</tr>
						</tbody>
					</table>
				</div>
			</modal>
			<!-- Below model will open the form to add the driver. -->
			<modal title="Add New Driver" visible="add_driver_modal">
			<div class="bms-form noBorder">
				<form role="form" ng-submit="addDriver(addDriverForm.$valid);" enctype="multipart/form-data" name="addDriverForm" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-4 col-md-6">
							<label for="pwd">Driver Type <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_driver.driver_type" name="driver_type" ng-init="add_driver.driver_type='in_house_contract'" required>
									<option value="in_house_contract">In-House Contract</option>
									<option value="in_house_salary">In-House Salary</option>
									<option value="outsourced">Outsourced</option>
								</select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriverForm.driver_type.$touched || driver_type" ng-messages="addDriverForm.driver_type.$error"> 
								<p ng-message="required">Please select driver type.</p>
							</div>
						</div>
						<div class="col-xs-4 col-md-3">
							<label for="pwd">Title <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_driver.title" name="title" required><option value="" selected>Title</option><option value="Mr">Mr</option><option value="Mrs">Mrs</option><option value="Ms">Ms</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriverForm.title.$touched || title" ng-messages="addDriverForm.title.$error"> 
								<p ng-message="required">Please select title.</p>
							</div>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">First name <span style="color:red;">*</span> :</label>
							<label class="input">						
								<input type="text" ng-model="add_driver.first_name" name="first_name" required>
							</label>
							<div class="error" ng-show="addDriverForm.first_name.$touched || first_name" ng-messages="addDriverForm.first_name.$error"> 
								<p ng-message="required">Please enter first name.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Last name:</label>
							<label class="input">
								<input type="text" ng-model="add_driver.last_name" name="last_name">
							</label>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Email <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="email" ng-model="add_driver.email" name="email" required>
							</label>
							<div class="error" ng-show="addDriverForm.email.$touched || email" ng-messages="addDriverForm.email.$error"> 
								<p ng-message="required">Please enter email.</p>
								<p ng-message="email">Please enter valid email.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Password:</label>
							<i class="fa fa-question-circle" style="color:#0096db;" tooltips tooltip-side="top" tooltip-template="Password will be used to login."></i>
							<label class="input">
								<input type="password" ng-model="add_driver.password" name="password">
							</label>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Driver Image:</label>
							<!---->
							<label class="input input-file" for="file">
								<!--<div class="button"><input type="file" ng-model="add_driver.image_name"  onchange="this.parentNode.nextSibling.value = this.value" id="file">Browse</div><input type="text" readonly="">-->
								<file name="image" ng-model="add_driver.image_name" />
							</label>
						</div>
						<!--<div class="col-xs-12 col-md-6" ng-if="add_driver.driver_type=='in_house_contract'" ng-init="getExpenseTypesListing();">
							<label for="pwd">Expense Type:</label>
							<label class="select">
								<select ng-model="add_driver.driver_expense" name="driver_expense" multiple style="height:50px;">
									<option value="{{exp_types._id}}" ng-repeat="exp_types in expense_types_list">{{exp_types.expense}}</option>
								</select>
								<i></i>
							</label>
						</div>-->
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">License No.:</label>
							<label class="input">
								<input type="text" ng-model="add_driver.licence_number" name="licence_number">
							</label>
						</div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">License Expiry:</label>
							<date-pick ng-model="add_driver.licence_expire" placeholder="Select Date" name="licence_expire" callback="dateChange()" min-limit="23-12-2015" format="dd-MM-yyyy" autohide="true"></date-pick>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Country:</label>
							<label class="select">
								<select ng-model="add_driver.calling_code" name="country" ng-change="getBankDetails(add_driver.calling_code)">
									<option value="">Select</option><option ng-repeat="country_data in country_data | orderBy:'name'" value="{{country_data.calling_code}}">{{country_data.name}}</option>
								</select>
								<i></i>
							</label>
						</div>
						<div class="col-xs-6 col-md-6" ng-repeat="param in params">
							<label for="pwd" ng-init="arr_index=$index">{{param.name}}:</label>
							<label class="input">
								<input type="text" ng-model="add_driver.bank_parameters_value[arr_index]">
							</label>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Driver Notes:</label>
							<label class="textarea">
								<textarea ng-model="add_driver.notes"></textarea>
							</label>
						</div>
						<br><br>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">ADD</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">ADD<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>
					</div>
				</form>
			</div>
			</modal>
			<!-- Below model will open the form to edit the driver. -->
			<modal title="Edit Driver" visible="edit_driver_modal">
			<div class="bms-form noBorder">
				<form role="form" name="editDriverForm" ng-submit="editDriver(editDriverForm.$valid);" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-4 col-md-6">
							<label for="pwd">Driver Type <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="edit_driver.driver_type" name="driver_type" required>
									<option value="in_house_contract">In-House Contract</option>
									<option value="in_house_salary">In-House Salary</option>
									<option value="outsourced">Outsourced</option>
								</select>
								<i></i>
							</label>
							<div class="error" ng-show="editDriverForm.driver_type.$touched || driver_type" ng-messages="addDriverForm.driver_type.$error"> 
								<p ng-message="required">Please select driver type.</p>
							</div>
						</div>
						<div class="col-xs-4 col-md-3">
							<label for="pwd">Title <span style="color:red;">*</span>:</label>
							<label class="select">
								<select ng-model="edit_driver.title" name="title" required><option value="" selected>Title</option><option value="Mr">Mr</option><option value="Mrs">Mrs</option><option value="Ms">Ms</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="editDriverForm.title.$touched || title" ng-messages="editDriverForm.title.$error"> 
								 <p ng-message="required">Please select title.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">First name <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="edit_driver.first_name" name="first_name" required>
							</label>
							<div class="error" ng-show="editDriverForm.first_name.$touched || first_name" ng-messages="editDriverForm.first_name.$error"> 
								 <p ng-message="required">Please enter first name.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Last name :</label>
							<label class="input">
								<input type="text" ng-model="edit_driver.last_name" name="last_name">
							</label>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Email <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="email" ng-model="edit_driver.email" name="email" required>
							</label>
							<div class="error" ng-show="editDriverForm.email.$touched || email" ng-messages="editDriverForm.email.$error"> 
								 <p ng-message="required">Please enter email.</p>
								 <p ng-message="email">Please enter valid email.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Password :</label>
							<i class="fa fa-question-circle" style="color:#0096db;" tooltips tooltip-side="right" tooltip-template="Password will be used to login."></i>
							<label class="input">
								<input type="password" ng-model="edit_driver.password" name="password">
							</label>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">Driver Image:</label>
							<!---->
							<label class="input input-file" for="file">
								<!--<div class="button"><input type="file" ng-model="edit_driver.image_name"    onchange="this.parentNode.nextSibling.value = this.value" id="file">Browse</div><input type="text" readonly="">-->
								<file name="image" ng-model="edit_driver.image_name"  />
							</label>
						</div>
						<!--<div class="col-xs-12 col-md-6" ng-if="edit_driver.driver_type=='in_house_contract'" ng-init="getExpenseTypesListing();">
							<label for="pwd">Expense Type:</label>
							<label class="select">
								<select ng-model="edit_driver.driver_expense" name="driver_expense" multiple style="height:50px;">
									<option value="{{exp_types._id}}" ng-repeat="exp_types in expense_types_list">{{exp_types.expense}}</option>
								</select>
								<i></i>
							</label>
						</div>-->
						<div class="clearfix"></div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">License No.:</label>
							<label class="input">
								<input type="text" ng-model="edit_driver.licence_number" name="licence_number">
							</label>
						</div>
						<div class="col-xs-12 col-md-6">
							<label for="pwd">License Expiry:</label>
							<date-pick ng-model="edit_driver.licence_expire" placeholder="Select Date" name="licence_expire" callback="dateChange()" min-limit="23-12-2015" format="dd-MM-yyyy" autohide="true"></date-pick>
						</div>
						<div class="col-xs-12 col-md-6" ng-if="edit_driver.bank_details.length>0" ng-repeat="param in edit_driver.bank_details">
							<label for="pwd" ng-init="arr_index=$index">{{param.field_name}}:</label>
							<label class="input">
								<input type="text" id="updated_bank_detail_value{{$index}}" ng-model="edit_driver.bank_details[arr_index].value" value="{{param.value}}">
							</label>
						</div>
						<div class="col-xs-12 col-md-6" ng-if="!edit_driver.bank_details.length">
							<label for="pwd">Country:</label>
							<label class="select">
								<select ng-model="edit_driver.calling_code" name="country" ng-change="getBankDetails(edit_driver.calling_code)">
									<option value="">Select</option><option ng-repeat="country_data in country_data | orderBy:'name'" value="{{country_data.calling_code}}">{{country_data.name}}</option>
								</select>
								<i></i>
							</label>
						</div>
						<div class="col-xs-6 col-md-6" ng-if="!edit_driver.bank_details.length" ng-repeat="param in params">
							<label for="pwd" ng-init="arr_index=$index">{{param.name}}:</label>
							<label class="input">
								<input type="text" ng-model="edit_driver.bank_parameters_value[arr_index]">
							</label>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Driver Notes:</label>
							<label class="textarea">
								<textarea ng-model="edit_driver.notes"></textarea>
							</label>
						</div>
						<br/><br/>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">EDIT</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">EDIT<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>	
					</div>
				</form>
			</div>
			</modal>
			<!-- Below model will open the form to add the driver phone. -->
			<modal title="Add Driver Phone" visible="add_driver_phone_modal">
			<div class="bms-form noBorder">
				<form role="form" ng-submit="addDriverPhone(addDriverPhones.$valid);" name="addDriverPhones" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-6 col-md-3">
							<label for="pwd">Phone Type <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_driver_phone.type" name="type" required><option value="" selected>Type</option><option value="office">Office</option><option value="home">Home</option><option value="others">Others</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriverPhones.type.$touched || type" ng-messages="addDriverPhones.type.$error"> 
								 <p ng-message="required">Please select type.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-5">
							<label for="pwd">Calling Code <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_driver_phone.calling_code" ng-init="add_driver_phone.calling_code=callng_code" name="calling_code" required>
									<option value="">Select</option><option ng-repeat="country_data in country_data | orderBy:'name'" value="{{country_data.calling_code}}" ng-selected="add_driver_phone.calling_code==country_data.calling_code">{{country_data.name}}(+{{country_data.calling_code}}) </option>
								</select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriverPhones.calling_code.$touched || calling_code" ng-messages="addDriverPhones.calling_code.$error"> 
								 <p ng-message="required">Please select calling code.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-4">
							<label for="pwd">Phone Number <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_driver_phone.number" ng-minlength="8" ng-maxlength="10" ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{2,6}$/" name="number" required>
							</label>
							<div class="error" ng-show="addDriverPhones.number.$touched || number" ng-messages="addDriverPhones.number.$error"> 
								<p ng-message="required">Please enter phone number</p>
								<p ng-message="pattern">Enter a valid phone number</p>
								<p ng-message="maxlength">Enter a valid phone number</p>
								<p ng-message="minlength">Enter a valid phone number</p>
							</div>
						</div>
						<br/><br/>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">ADD</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">ADD<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>
					</div>
		
				</form>
			</div>
			</modal>
			<!-- Below model will open the form to edit the driver phone. -->
			<modal title="Edit Driver Phone" visible="edit_driver_phone_modal">
			<div class="bms-form noBorder">
				<form role="form" ng-submit="editDriverPhone(editDriverPhones.$valid);" name="editDriverPhones" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-12 col-md-3">
							<label for="pwd">Phone Type <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="edit_driver_phone.type" name="type" required><option value="" selected>Type</option><option value="office">Office</option><option value="home">Home</option><option value="others">Others</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="editDriverPhones.type.$touched || type" ng-messages="editDriverPhones.type.$error"> 
								 <p ng-message="required">Please select type.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-5">
							<label for="pwd">Calling Code <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="edit_driver_phone.calling_code" name="calling_code" required>
									<option value="">Select</option><option ng-repeat="country_data in country_data | orderBy:'name'" value="{{country_data.calling_code}}" ng-selected="edit_driver_phone.calling_code==country_data.calling_code">{{country_data.name}}(+{{country_data.calling_code}}) </option>
								</select>
								<i></i>
							</label>
							<div class="error" ng-show="editDriverPhones.calling_code.$touched || calling_code" ng-messages="editDriverPhones.calling_code.$error"> 
								<p ng-message="required">Please select calling code.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-4">
							<label for="pwd">Phone Number <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="edit_driver_phone.number" ng-minlength="8" ng-maxlength="10" ng-pattern="/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{2,6}$/" name="number" required>
							</label>
							<div class="error" ng-show="editDriverPhones.number.$touched || number" ng-messages="editDriverPhones.number.$error"> 
								<p ng-message="required">Please enter phone number</p>
								<p ng-message="pattern">Enter a valid phone number</p>
								<p ng-message="maxlength">Enter a valid phone number</p>
								<p ng-message="minlength">Enter a valid phone number</p>
							</div>
						</div>
						<br/><br/>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">EDIT</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">EDIT<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>
					</div>
		
				</form>
			</div>
			</modal>
			<!-- Below model will open the form to add the driver car. -->
			<modal title="Add Driver Car" visible="add_driver_car_modal">
			<div class="bms-form noBorder">
				<form role="form" ng-submit="addDriverCar(addDriverCars.$valid);" name="addDriverCars" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Class <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_driver_car.class_id" name="class_id" required><option value="" selected>Car Class</option><option ng-repeat="car_data in car_class_listing_data | orderBy:'car_class'" value="{{car_data._id}}">{{car_data.car_class}}</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriverCars.class_id.$touched || class_id" ng-messages="addDriverCars.class_id.$error"> 
								 <p ng-message="required">Please select car class.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Make <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_driver_car.make_name" name="make_name" required>
							</label>
							<div class="error" ng-show="addDriverCars.make_name.$touched || make_name" ng-messages="addDriverCars.make_name.$error"> 
								 <p ng-message="required">Please enter car make.</p>
							</div>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Model <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_driver_car.model_name" name="model_name" required>
							</label>
							<div class="error" ng-show="addDriverCars.model_name.$touched || model_name" ng-messages="addDriverCars.model_name.$error"> 
								 <p ng-message="required">Please enter car model.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Color <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_driver_car.color" name="color" required><option value="" selected>Color</option><option value="red">Red</option><option value="black">Black</option><option value="blue">Blue</option><option value="white">White</option><option value="green">Green</option><option value="yellow">Yellow</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriverCars.color.$touched || color" ng-messages="addDriverCars.color.$error"> 
								 <p ng-message="required">Please enter car color.</p>
							</div>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Plate No. <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_driver_car.plate_no" name="plate_no" required>
							</label>
							<div class="error" ng-show="addDriverCars.plate_no.$touched || plate_no" ng-messages="addDriverCars.plate_no.$error"> 
								 <p ng-message="required">Please enter car plate no.</p>
							</div>
						</div>
						<br/><br/>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">ADD</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">ADD<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>	
					</div>

				</form>
			</div>
			</modal>
			<!-- Below model will open the form to edit the driver car. -->
			<modal title="Edit Driver Car" visible="edit_driver_car_modal">
			<div class="bms-form noBorder">
				<form role="form" ng-submit="editDriverCar(editDriverCars.$valid);" name="editDriverCars" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Class <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="edit_driver_car.class_id" name="class_id" required><option value="" selected>Car Class</option><option ng-repeat="car_data in car_class_listing_data | orderBy:'car_class'" value="{{car_data._id}}">{{car_data.car_class}}</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="editDriverCars.class_id.$touched || class_id" ng-messages="editDriverCars.class_id.$error"> 
								 <p ng-message="required">Please select car class.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Make <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="edit_driver_car.make_name" name="make_name" required>
							</label>
							<div class="error" ng-show="editDriverCars.make_name.$touched || make_name" ng-messages="editDriverCars.make_name.$error"> 
								 <p ng-message="required">Please enter car make.</p>
							</div>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Model <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="edit_driver_car.model_name" name="model_name" required>
							</label>
							<div class="error" ng-show="editDriverCars.model_name.$touched || model_name" ng-messages="editDriverCars.model_name.$error"> 
								 <p ng-message="required">Please enter car model.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Car Color <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="edit_driver_car.color" name="color" required><option value="" selected>Color</option><option value="red">Red</option><option value="black">Black</option><option value="blue">Blue</option><option value="white">White</option><option value="green">Green</option><option value="yellow">Yellow</option></select>
							</label>
							<div style="color:#F00" ng-show="editDriverCars.color.$touched || color" ng-messages="editDriverCars.color.$error"> 
								 <p ng-message="required">Please enter car color.</p>
							</div>
						</div>
						<div class="clearfix"></div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Plate No. <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="edit_driver_car.plate_no" name="plate_no" required>
							</label>
							<div class="error" ng-show="editDriverCars.plate_no.$touched || plate_no" ng-messages="editDriverCars.plate_no.$error"> 
								 <p ng-message="required">Please enter car plate no.</p>
							</div>
						</div>
						<br/><br/>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">EDIT</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">EDIT<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>	
					</div>
				</form>
			</div>
			</modal>
			<!-- Below model will open the form to add the address. -->
			<modal title="Add Address" visible="add_driver_address_modal">
			<div class="bms-form noBorder">
				<form role="form" ng-submit="addDriverAddress(addDriversAddress.$valid);" name="addDriversAddress" novalidate>
					<div class="row">
						<div class="col-xs-12 col-md-12">
							<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
								<strong>Error!</strong>&nbsp;{{alert_message_error}}
							</div>
						</div>
						<div class="col-xs-12 col-md-4">
							<label for="pwd">Address Type <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_address.type" name="type" required><option value="" selected>Type</option><option value="office">Office</option><option value="home">Home</option><option value="others">Others</option></select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriversAddress.type.$touched || type" ng-messages="addDriversAddress.type.$error"> 
								<p ng-message="required">Please select address type.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Address Line 1 <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_address.line_1" name="line_1" required>
							</label>
							<div class="error" ng-show="addDriversAddress.line_1.$touched || line_1" ng-messages="addDriversAddress.line_1.$error"> 
								<p ng-message="required">Please enter address line 1.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Address Line 2:</label>
							<label class="input">
								<input type="text" ng-model="add_address.line_2" name="line_2">
							</label>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">City <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_address.city" name="city" required>
							</label>
							<div class="error" ng-show="addDriversAddress.city.$touched || city" ng-messages="addDriversAddress.city.$error"> 
								<p ng-message="required">Please enter city.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Suburb/ District <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_address.suburb_district" name="suburb_district" required>
							</label>
							<div class="error" ng-show="addDriversAddress.suburb_district.$touched || suburb_district" ng-messages="addDriversAddress.suburb_district.$error"> 
								<p ng-message="required">Please enter suburb/district.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">State <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_address.state" name="state" required>
							</label>
							<div class="error" ng-show="addDriversAddress.state.$touched || state" ng-messages="addDriversAddress.state.$error"> 
								<p ng-message="required">Please enter state.</p>
							</div>
						</div>
						<div class="col-xs-6 col-md-6">
							<label for="pwd">Post Code <span style="color:red;">*</span> :</label>
							<label class="input">
								<input type="text" ng-model="add_address.post_code" name="post_code" required>
							</label>
							<div class="error" ng-show="addDriversAddress.post_code.$touched || post_code" ng-messages="addDriversAddress.post_code.$error"> 
								<p ng-message="required">Please enter post code.</p>
							</div>
						</div>
						<div class="col-xs-12 col-md-12">
							<label for="pwd">Country <span style="color:red;">*</span> :</label>
							<label class="select">
								<select ng-model="add_address.country" ng-init="add_address.country=country_name" name="country" required>
									<option ng-repeat="country_data in country_data | orderBy:'name'" value="{{country_data.name}}" ng-selected="add_address.country==country_data.name">{{country_data.name}}</option>
								</select>
								<i></i>
							</label>
							<div class="error" ng-show="addDriversAddress.country.$touched || country" ng-messages="addDriversAddress.country.$error"> 
								<p ng-message="required">Please enter country.</p>
							</div>
						</div>
						<br/><br/>
						<div class="clearfix"></div>
						<div class="modal-footer" >
							<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">ADD</button>
							<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">ADD<i class="fa fa-cog fa-spin"></i></button>
							<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">CLOSE</button>
						</div>	
					</div>
				</form>
			</div>
			</modal>
			<!-- Below model will open the form to edit the address. -->
			<modal title="Edit Address" visible="edit_driver_address_modal">
				<div class="bms-form noBorder">
					<form role="form" ng-submit="editDriverAddress(addDriversAddress.$valid);" name="addDriversAddress" novalidate>
						<div class="row">
							<div class="col-xs-12 col-md-12">
								<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
									<strong>Error!</strong>&nbsp;{{alert_message_error}}
								</div>
							</div>
							<div class="col-xs-12 col-md-3">
								<label for="pwd">Address Type <span style="color:red;">*</span> :</label>
								<label class="select">
									<select ng-model="edit_address.type" name="type" required><option value="" selected>Type</option><option value="office">Office</option><option value="home">Home</option><option value="others">Others</option></select>
									<i></i>
								</label>
								<div class="error" ng-show="addDriversAddress.type.$touched || type" ng-messages="addDriversAddress.type.$error"> 
									<p ng-message="required">Please select address type.</p>
								</div>
							</div>
							<div class="col-xs-12 col-md-12">
								<label for="pwd">Address Line 1 <span style="color:red;">*</span> :</label>
								<label class="input">
									<input type="text" ng-model="edit_address.line_1" name="line_1" required>
								</label>
								<div style="error" ng-show="addDriversAddress.line_1.$touched || line_1" ng-messages="addDriversAddress.line_1.$error"> 
									<p ng-message="required">Please enter address line 1.</p>
								</div>
							</div>
							<div class="col-xs-12 col-md-12">
								<label for="pwd">Address Line 2:</label>
								<label class="input">
									<input type="text" ng-model="edit_address.line_2" name="line_2">
								</label>
							</div>
							<div class="col-xs-12 col-md-12">
								<label for="pwd">City <span style="color:red;">*</span> :</label>
								<label class="input">
									<input type="text" ng-model="edit_address.city" name="city" required>
								</label>
								<div error="error" ng-show="addDriversAddress.city.$touched || city" ng-messages="addDriversAddress.city.$error"> 
									<p ng-message="required">Please enter city.</p>
								</div>
							</div>
							<div class="col-xs-12 col-md-12">
								<label for="pwd">Suburb/ District <span style="color:red;">*</span> :</label>
								<label class="input">
									<input type="text" ng-model="edit_address.suburb_district" name="suburb_district" required>
								</label>
								<div class="error" ng-show="addDriversAddress.suburb_district.$touched || suburb_district" ng-messages="addDriversAddress.suburb_district.$error"> 
									<p ng-message="required">Please enter suburb/district.</p>
								</div>
							</div>
							<div class="col-xs-6 col-md-6">
								<label for="pwd">State <span style="color:red;">*</span> :</label>
								<label class="input">
									<input type="text" ng-model="edit_address.state" name="state" required>
								</label>
								<div class="error" ng-show="addDriversAddress.state.$touched || state" ng-messages="addDriversAddress.state.$error"> 
									<p ng-message="required">Please enter state.</p>
								</div>
							</div>
							<div class="col-xs-6 col-md-6">
								<label for="pwd">Post Code <span style="color:red;">*</span> :</label>
								<label class="input">
									<input type="text" ng-model="edit_address.post_code" name="post_code" required>
								</label>
								<div class="error" ng-show="addDriversAddress.post_code.$touched || post_code" ng-messages="addDriversAddress.post_code.$error"> 
									<p ng-message="required">Please enter post code.</p>
								</div>
							</div>
							<div class="col-xs-12 col-md-12">
								<label for="pwd">Country <span style="color:red;">*</span> :</label>
								<label class="select">
									<select ng-model="edit_address.country" name="country" required>
										<option ng-repeat="country_data in country_data | orderBy:'name'" value="{{country_data.name}}">{{country_data.name}}</option>
									</select>
									<i></i>
								</label>
								<div class="error" ng-show="addDriversAddress.country.$touched || country" ng-messages="addDriversAddress.country.$error"> 
									<p ng-message="required">Please enter country.</p>
								</div>
							</div>
							<br/><br/>
							<div class="clearfix"></div>
							<div class="modal-footer" >
								<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">EDIT</button>
								<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">EDIT<i class="fa fa-cog fa-spin"></i></button>
								<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">Close</button>
							</div>	
						</div>
					</form>
				</div>
			</modal>
			<!-- below model will open the messages. -->
			<modal visible="success_error_message">
				<section id="contact-page">
					<div class="">
						<div class="alert alert-success" role="alert" ng-if="alert_message_success">
							<strong>Success!</strong>&nbsp;{{alert_message_success}}
						</div>
						<!--<div class="alert alert-danger" role="alert" ng-if="alert_message_error">
							<strong>Error!</strong>&nbsp;{{alert_message_error}}
						</div>-->
					</div>
				</section>
			</modal>
			<!-- Modal to edit driver income. -->
			<modal title="Edit Driver Income Split" visible="edit_driver_income_split_model">
				<div class="bms-form noBorder">
					<form name="edit_driver_income_split_form" ng-submit="editDriverIncomeSplit(edit_driver_income_split_form.$valid)" novalidate>
						<div class="row">
							<div class="alert alert-danger" role="alert" ng-if="edit_driver_income_error">
								<strong>Error!</strong>&nbsp;{{edit_driver_income_error}}
							</div>
							<div class="col-xs-6 col-md-6">
								<label for="pwd">Operator Default % :</label>
								<label class="select">
									<select name="operator_percentage" ng-model="edit_driver_income.operator_percentage" ng-change="edit_driver_income.driver_percentage=(100-edit_driver_income.operator_percentage)">
										<option ng-repeat="percntg in percent_arr" value="{{percntg}}">{{percntg}}</option>
									</select>
								</label>
							</div>
							<div class="col-xs-6 col-md-6">
								<label for="pwd">Driver Default % :</label>
								<label class="input">
									<input type="text" readonly ng-model="edit_driver_income.driver_percentage" name="driver_percentage">
								</label>
							</div>
							<div class="clearfix"></div>
							<div class="modal-footer" >
								<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">EDIT</button>
								<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">EDIT<i class="fa fa-cog fa-spin"></i></button>
								<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">Close</button>
							</div>
						</div>
					</form>
				</div>
			</modal>
			<!-- Modal to edit driver expense. -->
			<modal title="Edit Driver Expense Split" visible="edit_driver_expense_split_model">
				<div class="bms-form noBorder">
					<form name="edit_driver_expense_split_form" ng-submit="editDriverExpenseSplit(edit_driver_expense_split_form.$valid)" novalidate>
						<div class="row">
							<div class="alert alert-danger" role="alert" ng-if="edit_driver_expense_error">
								<strong>Error!</strong>&nbsp;{{edit_driver_expense_error}}
							</div>
							<div class="col-xs-6 col-md-6">
								<label for="pwd">Operator Default % :</label>
								<label class="select">
									<select name="operator_percentage" ng-model="edit_driver_expense.operator_percentage" ng-change="edit_driver_expense.driver_percentage=(100-edit_driver_expense.operator_percentage)">
										<option ng-repeat="percntg in percent_arr" value="{{percntg}}">{{percntg}}</option>
									</select>
								</label>
							</div>
							<div class="col-xs-6 col-md-6">
								<label for="pwd">Driver Default % :</label>
								<label class="input">
									<input type="text" readonly ng-model="edit_driver_expense.driver_percentage" name="driver_percentage">
								</label>
							</div>
							<div class="clearfix"></div>
							<div class="modal-footer" >
								<button type="submit" class="btn btn-warning btn-xs" data-ng-hide="loading">EDIT</button>
								<button type="submit" class="btn btn-warning btn-xs" ng-disabled="true" data-ng-show="loading">EDIT<i class="fa fa-cog fa-spin"></i></button>
								<button type="button" class="btn btn-danger btn-xs large" data-dismiss="modal">Close</button>
							</div>
						</div>
					</form>
				</div>
			</modal>
	</div>
</div>
<div class="clearfix"></div>
<script>
function generatePDFDriver() 
{
    var doc = new jsPDF('p', 'pt');
    doc.text("Driver List", 10, 50);
	var res = doc.autoTableHtmlToJson(document.getElementById("drivers1"));
	doc.autoTable(res.columns, res.data, {startY: 60,margin: {horizontal: 10},styles: {overflow: 'linebreak'},bodyStyles: {valign: 'top'}});
	doc.save('driver-data.pdf');
}
</script>